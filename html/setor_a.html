<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>SISTEMA TALOSSIAN - MONITORAMENTO SETOR A</title>
    <style>
        :root {
            --bg-desktop: #557e7e; 
            --win-gray: #c0c0c0;
            --win-shadow: #808080;
            --win-light: #ffffff;
            --win-blue: #000080;
        }

        body {
            background-color: #000; /* Inicia desligado */
            font-family: 'MS Sans Serif', Arial, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            transition: background-color 1s;
        }

        /* TELA DE BOAS-VINDAS (Inicialização) */
        #welcome-screen {
            color: #0f0;
            font-family: 'Courier New', monospace;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* INTERFACE PRINCIPAL */
        #main-interface { 
            display: none; 
            width: 900px;
            background-color: var(--win-gray);
            border: 2px solid var(--win-light);
            border-right-color: var(--win-shadow);
            border-bottom-color: var(--win-shadow);
            box-shadow: 2px 2px 0px #000;
            padding: 3px;
        }

        .title-bar {
            background-color: var(--win-blue);
            color: white;
            padding: 3px 10px;
            font-weight: bold;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
        }

        /* LAYOUT SPLIT (Esboço do Usuário) */
        .main-content {
            display: flex;
            gap: 10px;
            padding: 10px;
            height: 400px;
        }

        .sidebar {
            width: 240px;
            border: 2px solid var(--win-shadow);
            border-right-color: var(--win-light);
            border-bottom-color: var(--win-light);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .display-screen {
            flex-grow: 1;
            background: #fff;
            border: 2px solid var(--win-shadow);
            border-right-color: var(--win-light);
            border-bottom-color: var(--win-light);
            padding: 15px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
        }

        .footer-bar {
            padding: 10px;
            display: flex;
            gap: 10px;
            border-top: 1px solid var(--win-shadow);
        }

        .retro-btn {
            padding: 6px 12px;
            background: var(--win-gray);
            border: 2px solid var(--win-light);
            border-right-color: var(--win-shadow);
            border-bottom-color: var(--win-shadow);
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
        }

        .retro-btn:active:not(:disabled) {
            border: 2px solid var(--win-shadow);
            border-right-color: var(--win-light);
            border-bottom-color: var(--win-light);
        }

        .retro-btn:disabled { color: #808080; }
        
        .data-row { border-bottom: 1px dashed #ccc; padding: 5px 0; font-size: 13px; }
    </style>
</head>
<body>

    <div id="welcome-screen">
        <div id="boot-text">
            SISTEMA DE MONITORAMENTO FRONTEIRIÇO V.2.5<br>
            MINISTÉRIO DA ADMISSÃO
        </div>
        <button class="retro-btn" id="btn-power" onclick="ligarMonitor()">LIGAR TERMINAL SETOR A</button>
    </div>

    <div id="main-interface">
        <div class="title-bar">
            <span>TERMINAL_A_ACESSO_RECURSOS</span>
            <span id="op-id"></span>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <button class="retro-btn" onmousedown="tocarClick()" onclick="setMode('FLUXO')">Importações / exportações</button>
                <button class="retro-btn" onmousedown="tocarClick()" onclick="setMode('ENERGIA')">Demanda energética dos distritos</button>
                <button class="retro-btn" onmousedown="tocarClick()" disabled>n/a</button>
                <button class="retro-btn" onmousedown="tocarClick()" disabled>n/a</button>
                
            </div>

            <div class="display-screen" id="display">
                <h3>SISTEMA AGUARDANDO COMANDO...</h3>
                <p>Selecione um módulo para iniciar o escaneamento de Leopoldópoliz, Ribétia-Montiverde ou Occitânia.</p>
            </div>
        </div>

        <div class="footer-bar">
            <button class="retro-btn" onmousedown="tocarClick()" onclick="window.location.href='Central.html'">Voltar</button>
            <button class="retro-btn" onmousedown="tocarClick()" id="update-btn" style="flex-grow: 1;" onclick="iniciarSincronizacao()">
                Atualizar, por favor há de esperar uns 30 segundos
            </button>
        </div>
    </div>

    <audio id="musica" loop>
        <source src="audio/vremya_vperyod.mp3" type="audio/mpeg">
    </audio>
    <audio id="som-click" src="audio/beep.mp3" preload="auto">
      
      </audio>

    <script>
        const paises = ["República Popular de Leopoldópoliz", "Grão-Ducado de Ribétia-Montiverde", "República Democrática da Occitânia"];
        let modoAtual = "";

        function ligarMonitor() {
            // Áudio e Estética
            const som = document.getElementById('musica');
            som.volume = 0.3;
            som.play().catch(e => console.log("Áudio bloqueado."));

            document.getElementById('btn-power').style.display = 'none';
            document.getElementById('boot-text').innerHTML = "CARREGANDO PROTOCOLOS...<br>[||||||||||||||] 100%";

            setTimeout(() => {
                document.body.style.backgroundColor = "var(--bg-desktop)";
                document.getElementById('welcome-screen').style.display = 'none';
                document.getElementById('main-interface').style.display = 'block';
                
                // Operador Aleatório
                const ops = ["YURI_7", "IVAN_X", "BORIS_0"];
                document.getElementById('op-id').innerText = "OPERADOR: " + ops[Math.floor(Math.random()*ops.length)];
            }, 1500);
        }

        function setMode(m) {
            modoAtual = m;
            document.getElementById('display').innerHTML = `<h3>MÓDULO: ${m}</h3><p>Pronto para sincronização.</p>`;
        }

        function iniciarSincronizacao() {
            if(!modoAtual) return alert("Selecione um módulo lateral.");

            const btn = document.getElementById('update-btn');
            btn.disabled = true;
            let tempo = 30; // Contagem conforme solicitado

            const timer = setInterval(() => {
                btn.innerText = `PROCESSANDO... (${tempo}s)`;
                tempo--;

                if(tempo < 0) {
                    clearInterval(timer);
                    btn.disabled = false;
                    btn.innerText = "Atualizar, por favor há de esperar uns 30 segundos";
                    gerarRelatorio();
                }
            }, 1000);
        }

        function gerarRelatorio() {
            const disp = document.getElementById('display');
            disp.innerHTML = `<h4>RELATÓRIO GERADO - ${modoAtual}</h4><hr>`;
            
            const tipos = (modoAtual === 'FLUXO') ? ["AÇO", "COMMODITIES", "TRIGO"] : ["GASNAT", "MWh", "CARVÃO"];

            for(let i=0; i<6; i++) {
                const p = paises[Math.floor(Math.random()*paises.length)];
                const t = tipos[Math.floor(Math.random()*tipos.length)];
                const val = Math.floor(Math.random()*9000);
                disp.innerHTML += `<div class="data-row"><strong>${p.toUpperCase()}</strong><br>${t}: ${val} unidades.</div>`;
            }
        }
             function acessarSetor(url) {

                setTimeout(() => {
                  window.location.href = url; // Redireciona após 500ms
                }, 500); 
                } 
                function tocarClick() {
    const som = document.getElementById('som-click');
    som.currentTime = 0; // Reinicia o som caso clique rápido demais
    som.play();
}
    </script>
</body>
</html>